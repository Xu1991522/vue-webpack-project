(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"+3Hk":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{click:function(t){e.menuparameter.show=!1}}},[a("div",{staticClass:"common-top-nav-row"},[a("span",{staticStyle:{float:"left","margin-right":"10px","line-height":"36px","font-size":"14px",color:"#606266"}},[e._v("运营商:")]),a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择"},model:{value:e.condition.operator,callback:function(t){e.$set(e.condition,"operator",t)},expression:"condition.operator"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.operators,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})],2),a("span",{staticStyle:{margin:"0 10px 0 20px","line-height":"36px","font-size":"14px",color:"#606266"}},[e._v("起始日期")]),a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",editable:!1,"value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.condition.startDate,callback:function(t){e.$set(e.condition,"startDate",t)},expression:"condition.startDate"}}),a("span",{staticStyle:{margin:"0 10px 0 20px","line-height":"36px","font-size":"14px",color:"#606266"}},[e._v("结束日期")]),a("el-date-picker",{staticStyle:{width:"150px"},attrs:{editable:!1,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.condition.endDate,callback:function(t){e.$set(e.condition,"endDate",t)},expression:"condition.endDate"}}),a("el-input",{staticStyle:{width:"200px",margin:"0 20px"},attrs:{placeholder:"请输入卡号"},model:{value:e.condition.cardNumber,callback:function(t){e.$set(e.condition,"cardNumber",t)},expression:"condition.cardNumber"}}),a("el-button",{staticStyle:{background:"#038ae3",color:"#fff","margin-top":"2px"},attrs:{size:"small"},on:{click:e.listByCondition}},[e._v("搜索")])],1),a("Contextmenu",{attrs:{menuparameter:e.menuparameter},on:{selectedchanged:e.selectedchanged}}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.pagebean,border:""},on:{"header-contextmenu":e.headerclick,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"卡号","min-width":e.pagebean.every(function(e){return""===e.cardNumber||null===e.cardNumber})?"90":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(""===t.row.cardNumber||null===t.row.cardNumber?"-":t.row.cardNumber)+"\n        ")]}}])}),e.menuparameter.selected.indexOf("用户")>-1?a("el-table-column",{attrs:{prop:"userName",label:"用户",width:"110"}}):e._e(),e.menuparameter.selected.indexOf("运营商")>-1?a("el-table-column",{attrs:{prop:"operatorName",label:"运营商",width:"80"}}):e._e(),e.menuparameter.selected.indexOf("套餐名称")>-1?a("el-table-column",{attrs:{label:"套餐名称",width:e.pagebean.every(function(e){return""===e.packageName||null===e.packageName})?"120":"290"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(""===t.row.packageName||null===t.row.packageName?"-":t.row.packageName)+"\n        ")]}}])}):e._e(),e.menuparameter.selected.indexOf("提交时间")>-1?a("el-table-column",{attrs:{label:"提交时间",width:e.pagebean.every(function(e){return""===e.commitTime||null===e.commitTime})?"80":"155"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("time")(t.row.commitTime,"yyyy-MM-dd HH:mm:ss")))])]}}])}):e._e(),e.menuparameter.selected.indexOf("订购时间")>-1?a("el-table-column",{attrs:{label:"订购时间",width:e.pagebean.every(function(e){return""===e.orderTime||null===e.orderTime})?"80":"155"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("time")(t.row.orderTime,"yyyy-MM-dd HH:mm:ss")))])]}}])}):e._e(),e.menuparameter.selected.indexOf("办理状态")>-1?a("el-table-column",{attrs:{prop:"handleStatus",label:"办理状态",width:"80"}}):e._e(),e.menuparameter.selected.indexOf("办理结构描述")>-1?a("el-table-column",{attrs:{label:"办理结构描述",width:e.pagebean.every(function(e){return""===e.description||null===e.description})?"150":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(""===t.row.description||null===t.row.description?"-":t.row.description)+"\n        ")]}}])}):e._e(),e.menuparameter.selected.indexOf("来源平台")>-1?a("el-table-column",{attrs:{prop:"sourcePlatform",label:"来源平台",width:"80"}}):e._e()],1),a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,40,50],"current-page":e.pager.pageIndex,layout:"sizes, prev, pager, next","page-size":e.pager.pageSize,total:e.pager.recCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},r=[],i=(a("yt8O"),a("RW0V"),a("rGqo"),a("91GP"),a("19FS")),o={name:"",data:function(){return{loading:!0,pagebean:[],operators:[{value:"CMCC",label:"中国移动"},{value:"UNICOM",label:"中国联通"},{value:"CNET",label:"中国电信"}],condition:{operator:"",startDate:(new Date).getFullYear()+"-"+((new Date).getMonth()>10?"0"+(new Date).getMonth()+1:(new Date).getMonth()+1)+"-01",endDate:"",cardNumber:""},pager:{pageIndex:1,pageSize:10,recCount:0},menuparameter:{show:!1,position:{},list:["用户","运营商","套餐名称","提交时间","订购时间","办理状态","办理结构描述","实际拥有者","来源平台"],selected:["用户","运营商","套餐名称","提交时间","订购时间","办理状态","办理结构描述","实际拥有者","来源平台"]}}},created:function(){this.listByCondition()},methods:{selectedchanged:function(e){this.menuparameter.selected=e},headerclick:function(e,t){this.menuparameter.position.clientX=t.clientX,this.menuparameter.position.clientY=t.clientY,this.menuparameter.show=!0,t.preventDefault()},listByCondition:function(){var e=this,t=Object.assign({},this.condition);Object.keys(t).forEach(function(e){""===t[e]&&(t[e]=null)}),this.$api.IFlowPackageManager.listByCondition({page:this.pager.pageIndex-1,size:this.pager.pageSize,operator:t.operator,startDate:t.startDate,endDate:t.endDate,cardNumber:t.cardNumber}).then(function(t){e.loading=!1,e.pagebean=t.content,e.pager.pageIndex=t.number+1,e.pager.pageSize=t.size,e.pager.recCount=t.totalElements})},list:function(){var e=this;this.$api.IFlowPackageManager.list({page:this.pager.pageIndex-1,size:this.pager.pageSize}).then(function(t){e.pagebean=t.content,e.pager.pageIndex=t.number+1,e.pager.pageSize=t.size,e.pager.recCount=t.totalElements})},handleCurrentChange:function(e){this.pager.pageIndex=e,this.listByCondition()},handleSizeChange:function(e){this.pager.pageSize=e,this.listByCondition()}},filters:{time:function(e,t){return e?i["format"](e,t):"-"}}},l=o,c=(a("1T9g"),a("KHd+")),s=Object(c["a"])(l,n,r,!1,null,"6e45fe64",null);t["default"]=s.exports},"+zWV":function(e,t,a){},"1T9g":function(e,t,a){"use strict";var n=a("+zWV"),r=a.n(n);r.a}}]);