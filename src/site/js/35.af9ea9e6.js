(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{ACmK:function(t,e,i){"use strict";var n=i("SrMr"),a=i.n(n);a.a},"C9Y/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3JpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4MDMyZTUxZi01ZDc4LWIyNDEtODBiYy02NTgwM2NjMGFmNDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTBDMjcyNzQzRjAwMTFFOEI0OThBQjRBRTVERTY2RjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTBDMjcyNzMzRjAwMTFFOEI0OThBQjRBRTVERTY2RjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowZTc2NjcxMy05NmUwLTQ0NDItYjA5Zi03NDkwMGM5Nzk0YmMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODAzMmU1MWYtNWQ3OC1iMjQxLTgwYmMtNjU4MDNjYzBhZjQ2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+231nWAAAAZZJREFUeNqs1c0rBGEcB/CZKQpJreKiKCXl7cZFKTltYZcTN5zk5Q/YHJxdOKK4cHDkslFka7dd1oFW7iI5aLwdNk6P7zM9T03T/H7PLH71Of1eZnafl7GFEBYTAzABg9AG9VCGByjAIZyT3XJ4iGE4FtEiC2Nhc8IGp8TvYt00fFf8LdLU8JT4n9jUM221oP1wySzsGxyBC80wCTVMfcKrV08pMm+SgVjg72uBG6bnUf8tvUzRPbGbpFpwmd5RB68/y/y8VSYn9/sak59z1AGhomjxkWVyXXJ4K1PQYBjeyORijmHAsmE4l6+TC/Ni2LfTxIIuGvpeZVE+wsE4hTh0QBIuIvTcOobDIyMDd1CtDk4VXEHe2IcndBNPdqnbzmcKykR/ny66DiSeockwWGuH70B/yX9xjfgSH9AZcbA2BF++GfHgrbitEnsVDtZOVP8WdZ/nVMFShYNXVN+Z6Ut04Lu0koahCXhS9TvBvE18oOdhQ20/GWkowbt38iyrB8bBhk9YgP2oH2htBgrEVssxp9fzI8AAr4nbi8BFvrUAAAAASUVORK5CYII="},MN8m:function(t,e,i){"use strict";var n=i("O7zI"),a=i.n(n);a.a},O7zI:function(t,e,i){},SrMr:function(t,e,i){},bnhS:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"header"},[n("img",{staticClass:"title-logo",attrs:{src:t.logoimg,alt:""}}),n("div",{staticClass:"right-login-part",on:{click:function(e){e.stopPropagation(),t.operationlistshow=!t.operationlistshow}}},[n("img",{staticClass:"guy-head",attrs:{src:i("C9Y/"),alt:""}}),n("div",{staticClass:"accountnum"},[t._v(t._s(t.user.loginName))]),n("transition",{attrs:{name:"fold"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.operationlistshow,expression:"operationlistshow"}],staticClass:"operationlist"},[n("div",{staticClass:"operationitem",on:{click:function(e){t.$router.push("/account")}}},[t._v("个人信息")]),n("div",{staticClass:"operationitem",on:{click:t.logOff}},[t._v("退出登录")])])])],1)]),n("div",{staticClass:"container"},[n("div",{staticClass:"aside nav__aside"},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:t.isCollapse,"collapse-transition":!0,"default-active":t.defaultactive,"background-color":"#2e3c50","text-color":"#fff"}},[n("div",{staticClass:"menu-top-collapse",on:{click:function(e){t.isCollapse=!t.isCollapse}}},[n("div",{class:["menu-icon",t.isCollapse?"spread-icon":"return-icon"]})]),t._l(t.menus,function(e){return n("menu-item",{key:e.sequence,staticStyle:{display:"inline-block",width:"100%"},attrs:{item:e,collapse:t.isCollapse,"title-class":t.titleClasses[e.name]},on:{click:t.changeTab}})})],2)],1),n("div",{staticClass:"main"},[n("el-tabs",{attrs:{type:"border-card"},on:{"tab-remove":t.removeTab,"tab-click":t.tabturnrouter},model:{value:t.activetab,callback:function(e){t.activetab=e},expression:"activetab"}},[t._l(t.openedtabs,function(t,e){return n("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name,closable:0!==e}})}),n("router-view",{staticClass:"router__view"})],2)],1)])])},a=[],s=(i("KKXr"),i("INYr"),i("iv4g")),o=i("oyJW"),c=i("yT7P"),r=(i("dRSK"),i("f3/d"),i("Nlzp")),l=i("oYx3"),u=i("V4l9"),p={props:{collapse:{type:Boolean,required:!0},item:{type:Object,required:!0},titleClass:{type:String}},render:function(){var t=this,e=arguments[0],i=this.$props,n=i.collapse,a=i.item,s=i.titleClass,o=a.subMenu.length;return 0===o?e("el-menu-item",{attrs:{index:a.sequence},on:{click:function(){return t.$emit("click",a.name)}}},[e("div",{class:"menu-icon"+(s?" "+s:"")}),e("template",{slot:"title"},[e("span",[a.name])])]):e("el-submenu",{attrs:{index:a.sequence}},[e("template",{slot:"title"},[e("div",{class:"menu-icon"+(s?" "+s:"")}),e("span",[a.name])]),e("el-menu-item-group",[n&&e("div",{class:"item-inner-tile"},[a.name]),a.subMenu.map(function(i){return e("el-menu-item",{style:"padding-left: 60px;",key:i.sequence,attrs:{index:i.sequence},on:{click:function(){return t.$emit("click",i.name)}}},[i.name])})])])}},m=l["b"].find(function(t){return"/"===t.path}).children.reduce(function(t,e){if(!e.meta)return t;var i=e.path,n=e.meta.name;return{titleToPathMap:Object(c["a"])({},t.titleToPathMap,Object(o["a"])({},n,"/"+i)),pathToTitleMap:Object(c["a"])({},t.pathToTitleMap,Object(o["a"])({},"/"+i,n))}},{}),h=m.titleToPathMap,d=m.pathToTitleMap,b={name:"app",data:function(){return{activetab:"1",logoimg:"./static/title-logo.png",defaultactive:"",openedtabs:[{title:"总览",name:"1",path:"/home"}],isCollapse:!1,operationlistshow:!1}},computed:{user:function(){return this.$store.getters.user},menus:function(){var t=function t(e,i){return e.reduce(function(e,n){var a=(i?i+"-":"")+n.sequence;return Object(s["a"])(e).concat([{name:n.name,sequence:a,subMenu:n.subMenu?t(n.subMenu,a):[]}])},[])};return t(this.$store.getters.permissions)},titleClasses:function(){return{"合作方管理":"cop-icon","运营管理":"operate-icon","记录管理":"record-icon","系统管理":"system-icon","短信管理":"sms-icon","客户管理":"sms-icon","账户管理":"business-icon"}}},methods:{logOff:function(){this.$store.dispatch("SIGNOUT")},getLogoUrl:function(t){var e=this;r["a"].IHomeLogoManager.getLogoUrl({url:t}).then(function(t){e.logoimg="appmedia"===t?"./static/appmedia-title.png":t})},changeTab:function(t){this.$router.push(h[t])},findMenuByPath:function(t){var e=d[t];return this.menus.find(function(t){return t.name===e})||Object(u["a"])(this.menus.map(function(t){return t.subMenu})).find(function(t){return t.name===e})},showoperatio:function(){this.operationlistshow=!this.operationlistshow},removeTab:function(t){var e=this.openedtabs,i=e.findIndex(function(e){return e.name===t});this.openedtabs=e.filter(function(e){return e.name!==t}),t===this.activetab&&this.$router.push({path:this.openedtabs[i===e.length-1?i-1:i].path})},tabturnrouter:function(t){this.$router.push({path:this.openedtabs[t.index].path})}},created:function(){var t=document.domain;"iot-cust.combmobile.com"!==t&&"iot.aetest.bwae.org"!==t&&"iot.bwae.org"!==t&&"localhost"!==t&&("appmedia.com"===t?this.logoimg="./static/appmedia-title.png":this.getLogoUrl(t))},mounted:function(){var t=this;this.operate$=function(){t.operationlistshow=!1},document.addEventListener("click",this.operate$)},beforeDestroy:function(){document.removeEventListener("click",this.operate$),this.operate$=null},watch:{"$route.path":{handler:function(t){t="/"+t.slice(1).split("/")[0];var e=d[t];if(!e)throw Error("title was not found that matched to path "+t);var i=this.openedtabs.find(function(e){return e.path===t});if(i)this.activetab=i.name;else{var n=Math.max.apply(Math,Object(s["a"])(this.openedtabs.map(function(t){return+t.name})))+1+"";this.openedtabs.push({title:e,name:n,content:"",path:t}),this.activetab=n}var a=this.findMenuByPath(t);this.defaultactive=a?a.sequence:"UNEXISTS_MENU_SEQUENCE"},immediate:!0}},components:{MenuItem:p}},v=b,f=(i("MN8m"),i("ACmK"),i("KHd+")),g=Object(f["a"])(v,n,a,!1,null,"9713f218",null);e["default"]=g.exports}}]);