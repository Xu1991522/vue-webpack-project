(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{DQ2x:function(e,r,t){"use strict";t.r(r);var l=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("BackButton"),t("el-form",{ref:"ruleForm",staticClass:"iot__form form-pos",attrs:{"label-width":"120px",model:e.ruleForm,rules:e.rules,"label-position":"left"}},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"inner-filt"},[e._v("通道信息")])]),t("el-form-item",{attrs:{label:"通道名称:",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入通道名称"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name","string"===typeof r?r.trim():r)},expression:"ruleForm.name"}})],1),t("el-form-item",{attrs:{label:"通道名称缩写:",prop:"alias"}},[t("el-input",{attrs:{placeholder:"请输入通道名称缩写"},model:{value:e.ruleForm.alias,callback:function(r){e.$set(e.ruleForm,"alias","string"===typeof r?r.trim():r)},expression:"ruleForm.alias"}})],1),t("el-form-item",{attrs:{label:"所属账户:",prop:"account"}},[t("el-input",{attrs:{placeholder:"请输入所属账户"},model:{value:e.ruleForm.account,callback:function(r){e.$set(e.ruleForm,"account","string"===typeof r?r.trim():r)},expression:"ruleForm.account"}})],1),t("div",{staticClass:"info-item"},[t("div",{staticClass:"inner-filt"},[e._v("管理者信息")])]),t("el-form-item",{attrs:{label:"联系人:",prop:"contactor"}},[t("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.ruleForm.contactor,callback:function(r){e.$set(e.ruleForm,"contactor","string"===typeof r?r.trim():r)},expression:"ruleForm.contactor"}})],1),t("el-form-item",{attrs:{label:"手机号码:",prop:"mobilePhone"}},[t("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.ruleForm.mobilePhone,callback:function(r){e.$set(e.ruleForm,"mobilePhone","string"===typeof r?r.trim():r)},expression:"ruleForm.mobilePhone"}})],1),t("div",{staticClass:"info-item"},[t("div",{staticClass:"inner-filt"},[e._v("运营商信息")])]),t("el-form-item",{attrs:{label:"运营商:"}},[t("el-radio-group",{model:{value:e.ruleForm.operator,callback:function(r){e.$set(e.ruleForm,"operator",r)},expression:"ruleForm.operator"}},[t("el-radio",{attrs:{label:"CMCC"}},[e._v("中国移动")]),t("el-radio",{attrs:{label:"UNICOM"}},[e._v("中国联通")]),t("el-radio",{attrs:{label:"CNET"}},[e._v("中国电信")])],1)],1),t("div",{staticClass:"info-item"},[t("div",{staticClass:"inner-filt"},[e._v("账户信息")])]),t("el-form-item",{attrs:{label:"登录账号:",prop:"loginAccount"}},[t("el-input",{attrs:{placeholder:"请输入登录账号"},model:{value:e.ruleForm.loginAccount,callback:function(r){e.$set(e.ruleForm,"loginAccount","string"===typeof r?r.trim():r)},expression:"ruleForm.loginAccount"}})],1),t("el-form-item",{attrs:{label:"登录密码:",prop:"loginPassword"}},[t("el-input",{attrs:{placeholder:"请输入登录密码"},model:{value:e.ruleForm.loginPassword,callback:function(r){e.$set(e.ruleForm,"loginPassword","string"===typeof r?r.trim():r)},expression:"ruleForm.loginPassword"}})],1),t("el-form-item",{attrs:{label:"接口KEY:",prop:"apiAccessKey"}},[t("el-input",{attrs:{placeholder:"请输入接口KEY"},model:{value:e.ruleForm.apiAccessKey,callback:function(r){e.$set(e.ruleForm,"apiAccessKey","string"===typeof r?r.trim():r)},expression:"ruleForm.apiAccessKey"}})],1),t("el-form-item",{attrs:{label:"接口秘钥:",prop:"apiSecretKey"}},[t("el-input",{attrs:{placeholder:"请输入接口秘钥"},model:{value:e.ruleForm.apiSecretKey,callback:function(r){e.$set(e.ruleForm,"apiSecretKey","string"===typeof r?r.trim():r)},expression:"ruleForm.apiSecretKey"}})],1),t("el-form-item",{attrs:{label:"接口地址:",prop:"apiUrl"}},[t("el-input",{attrs:{placeholder:"请输入接口地址"},model:{value:e.ruleForm.apiUrl,callback:function(r){e.$set(e.ruleForm,"apiUrl","string"===typeof r?r.trim():r)},expression:"ruleForm.apiUrl"}})],1),t("el-form-item",[t("el-button",{staticClass:"confirm-button",attrs:{loading:e.loading,disabled:e.disabled},on:{click:function(r){e.infohandle("change")}}},[e._v(e._s("添加供应商"===e.handletype?"添加":"保存"))]),t("el-button",{attrs:{disabled:e.disabled},on:{click:function(r){e.infohandle("cancel")}}},[e._v("取消")])],1)],1)],1)},a=[],o=function(e,r,t){isNaN(r)||11!==r.length?t(new Error("请输入正确的手机号")):t()},i={name:"",data:function(){return{handletype:"",loading:!1,disabled:!1,ruleForm:{},rules:{name:[{required:!0,message:"请输入1-20个字符",trigger:"blur"},{min:1,max:20,message:"请输入1-20个字符",trigger:"blur"}],alias:[{required:!0,message:"请输入1-20个字符",trigger:"blur"},{min:1,max:20,message:"请输入1-20个字符",trigger:"blur"}],account:[{required:!0,message:"请输入1-20个字符",trigger:"blur"},{min:1,max:20,message:"请输入1-20个字符",trigger:"blur"}],contactor:[{required:!0,message:"请输入1-20个字符",trigger:"blur"},{min:1,max:20,message:"请输入1-20个字符",trigger:"blur"}],mobilePhone:[{required:!0,validator:o,trigger:"blur"}],loginAccount:[{required:!0,message:"请输入1-20个字符",trigger:"blur"},{min:1,max:20,message:"请输入1-20个字符",trigger:"blur"}],loginPassword:[{required:!0,message:"请输入1-20个字符",trigger:"blur"},{min:1,max:20,message:"请输入1-20个字符",trigger:"blur"}],apiAccessKey:[{message:"请输入1-40个字符",trigger:"blur"},{min:1,max:40,message:"请输入1-40个字符",trigger:"blur"}],apiSecretKey:[{message:"请输入1-32个字符",trigger:"blur"},{min:1,max:32,message:"请输入1-32个字符",trigger:"blur"}],apiUrl:[{message:"请输入1-100个字符",trigger:"blur"},{min:1,max:100,message:"请输入1-100个字符",trigger:"blur"}]}}},created:function(){this.handletype=this.$route.query.title,"修改供应商"===this.handletype?this.ruleForm=JSON.parse(this.$route.query.ruleForm):this.ruleForm={name:"",alias:"",account:"",contactor:"",mobilePhone:"",operator:"UNICOM",loginAccount:"",loginPassword:"",apiAccessKey:"",apiSecretKey:"",apiUrl:""}},methods:{infohandle:function(e){"cancel"===e?this.$router.push({path:"/supplierManage"}):this.submitForm("ruleForm")},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.loading=!0,r.disabled=!0,"添加供应商"===r.handletype?r.$api.IProviderManager.add({provider:r.ruleForm}).then(function(e){r.loading=!1,r.disabled=!1,"OK"===e?r.$message({message:"添加供应商"===r.handletype?"添加成功":"修改成功",duration:2e3,type:"success",onClose:function(){r.$router.push({path:"/supplierManage"})}}):r.$message({message:"重复的通道名和所属人",type:"error",duration:5e3})}):r.$api.IProviderManager.update({provider:r.ruleForm}).then(function(e){r.loading=!1,r.disabled=!1,"OK"===e?r.$message({message:"添加供应商"===r.handletype?"添加成功":"修改成功",duration:2e3,type:"success",onClose:function(){r.$router.push({path:"/supplierManage"})}}):r.$message({message:"重复的通道名和所属人",type:"error",duration:5e3})}).catch(function(e){r.loading=!1,r.disabled=!1,r.$message({message:e.message,type:"error",duration:5e3})})})}}},s=i,n=(t("zrDZ"),t("KHd+")),u=Object(n["a"])(s,l,a,!1,null,"79c4b258",null);r["default"]=u.exports},o26C:function(e,r,t){},zrDZ:function(e,r,t){"use strict";var l=t("o26C"),a=t.n(l);a.a}}]);